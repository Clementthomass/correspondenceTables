## ----include=FALSE----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
options(width = 300)

## ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
library(correspondenceTables)

## ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
options(useLocalDataForVignettes = TRUE)

## ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
endpoint = "CELLAR"
list_data = classificationList(endpoint)
knitr::kable(head(list_data), caption = "Example output of classificationList() using CELLAR endpoint")


## ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
endpoint = "CELLAR"
prefix = "nace2"
conceptScheme = "nace2"
dataStructure(endpoint, prefix, conceptScheme)

## ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
endpoint = "CELLAR"
prefix = "nace2"
conceptScheme = "nace2"
level = "4"
CSVout = NULL
showQuery = TRUE

result_de <-retrieveClassificationTable(endpoint, prefix, conceptScheme, language = "de", level, CSVout, showQuery)

result_fr <-retrieveClassificationTable(endpoint, prefix, conceptScheme, language = "fr", level, CSVout, showQuery)

result_bg <-retrieveClassificationTable(endpoint, prefix, conceptScheme, language = "bg", level, CSVout, showQuery)

print(head(result_fr),right= FALSE)

## ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#Extract the SPARQL query used
 SPARQLquery = result_de[[1]]
# 
##Obtain data frame in which the classification table is saved
 table = result_de[[2]]

## ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
corr_list = correspondenceTableList("ALL")
names(corr_list)
head(corr_list$CELLAR)
head(corr_list$FAO)


## ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
endpoint = "FAO"
prefix = "CPC21"
ID_table = "CPC21-ISIC4"

## ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
endpoint = "FAO"
prefix = "CPC21"
ID_table = "CPC21-ISIC4"
language = "en"
CSVout = NULL
showQuery= TRUE

result_en = retrieveCorrespondenceTable(endpoint, prefix, ID_table, language, CSVout, showQuery)
print(head(result_en),right= FALSE)

## ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# # Extract the SPARQL query used
 SPARQLquery = result_en[[1]]
# 
# # Obtain data frame in which the correspondence table is saved
 table = result_en[[2]]

